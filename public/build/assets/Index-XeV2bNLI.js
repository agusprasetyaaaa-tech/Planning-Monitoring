import{B as e,c as t,v as s,E as a,G as l,u as n,H as r,I as o,D as i,y as d,m as u,K as c,M as m,N as g,J as p,L as f,U as x,F as y,V as b,Q as _}from"./vendor--Two-J8v.js";import{_ as v}from"./NexusLayout-DRkFfmad.js";import{Q as h,b as w,o as k,d as j,a as V,N as C}from"./ui-Nlo8Y17Y.js";import"./app-C4l8fcSA.js";import"./DropdownLink-CFHk88F0.js";const D={class:"space-y-6"},M={class:"grid grid-cols-1 gap-6"},T={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},P={class:"relative rounded-md shadow-sm"},U={key:0,class:"mt-2 flex items-center gap-2 text-xs"},L={class:"text-yellow-700 font-medium"},S={class:"relative rounded-md shadow-sm"},H={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},B={class:"text-gray-500 sm:text-sm"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},E={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},O=["id","value"],F=["for"],z={class:"pt-4 border-t border-gray-100"},W={class:"flex flex-grow flex-col"},I=["disabled"],N=Object.assign({layout:v},{__name:"Index",props:{settings:Object},setup(v){const N=v,G=e({time_offset_days:N.settings.time_offset_days??0,planning_time_unit:N.settings.planning_time_unit||"Days (Production)",planning_warning_threshold:N.settings.planning_warning_threshold??14,plan_expiry_value:N.settings.plan_expiry_value??7,plan_expiry_unit:N.settings.plan_expiry_unit||"Days (Production)",allowed_plan_creation_days:N.settings.allowed_plan_creation_days||["Friday"],testing_mode:N.settings.testing_mode||!1}),J=t(()=>{switch(G.planning_time_unit){case"Hours":return"Hours";case"Minutes":return"Minutes";default:return"Days"}}),K=()=>{G.patch(route("time-settings.update"),{preserveScroll:!0})},Q=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return(e,t)=>(d(),s(y,null,[a(n(r),{title:"Time Configuration"}),l("div",D,[t[27]||(t[27]=l("div",{class:"flex items-center justify-between"},[l("h1",{class:"text-2xl font-bold text-gray-900"},"Time Configuration")],-1)),l("form",{onSubmit:o(K,["prevent"]),class:"space-y-6"},[a(n(C),{as:"div",class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",defaultOpen:""},{default:i(({open:e})=>[a(n(h),{class:"flex w-full justify-between items-center px-6 py-4 text-left bg-gray-50 hover:bg-gray-100 transition-colors focus:outline-none"},{default:i(()=>[t[8]||(t[8]=l("div",{class:"flex items-center gap-3"},[l("div",{class:"h-8 w-8 rounded-lg bg-gray-200 flex items-center justify-center text-gray-600"},[l("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),l("div",null,[l("span",{class:"text-sm font-bold text-gray-900 block"},"Planning Report Configuration"),l("span",{class:"text-xs text-gray-500"},"Configure planning badge colors and expiry settings for testing.")])],-1)),(d(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:u([e?"rotate-180 transform":"","h-5 w-5 text-gray-400 transition-transform duration-200"])},[...t[7]||(t[7]=[l("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"},null,-1)])],2))]),_:2},1024),a(n(w),{class:"bg-white px-6 py-6 border-t border-gray-100"},{default:i(()=>[l("div",M,[l("div",T,[t[11]||(t[11]=l("label",{class:"block text-sm font-medium text-gray-900 mb-1"},"Testing Time Offset (Development Only)",-1)),l("div",P,[m(l("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>n(G).time_offset_days=e),min:"0",class:"block w-full rounded-lg border-gray-300 pr-12 focus:border-emerald-500 focus:ring-emerald-500 text-sm",placeholder:"0"},null,512),[[g,n(G).time_offset_days,void 0,{number:!0}]]),t[9]||(t[9]=l("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},[l("span",{class:"text-gray-500 sm:text-sm"},"Days")],-1))]),t[12]||(t[12]=l("p",{class:"mt-1 text-xs text-gray-600"},[p(" Add days to current time for testing. Set to "),l("strong",null,"0"),p(" to use real time. "),l("br"),l("span",{class:"text-yellow-700"},[p("Example: Set to "),l("strong",null,"5"),p(" to simulate 5 days ahead.")])],-1)),n(G).time_offset_days>0?(d(),s("div",U,[t[10]||(t[10]=l("svg",{class:"h-4 w-4 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),l("span",L,"Time offset is active! Simulating +"+f(n(G).time_offset_days)+" day(s)",1)])):c("",!0)]),l("div",null,[t[14]||(t[14]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[p("Time Unit for Planning Badge"),l("span",{class:"text-red-500"},"*")],-1)),m(l("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>n(G).planning_time_unit=e),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 text-sm"},[...t[13]||(t[13]=[l("option",null,"Days (Production)",-1),l("option",null,"Hours",-1),l("option",null,"Minutes",-1)])],512),[[x,n(G).planning_time_unit]]),t[15]||(t[15]=l("p",{class:"mt-1 text-xs text-gray-500"},"Change to minutes/hours for faster testing of round color changes.",-1))]),l("div",null,[t[16]||(t[16]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[p("Warning Threshold (Blink Trigger)"),l("span",{class:"text-red-500"},"*")],-1)),l("div",S,[m(l("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>n(G).planning_warning_threshold=e),class:"block w-full rounded-lg border-gray-300 pr-12 focus:border-emerald-500 focus:ring-emerald-500 text-sm"},null,512),[[g,n(G).planning_warning_threshold]]),l("div",H,[l("span",B,f(J.value),1)])]),t[17]||(t[17]=l("p",{class:"mt-1 text-xs text-gray-500"},"When plan badge starts blinking red",-1))]),l("div",A,[l("div",null,[t[18]||(t[18]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[p("Plan Expiry Value"),l("span",{class:"text-red-500"},"*")],-1)),m(l("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>n(G).plan_expiry_value=e),class:"block w-full rounded-lg border-gray-300 focus:border-emerald-500 focus:ring-emerald-500 text-sm"},null,512),[[g,n(G).plan_expiry_value]]),t[19]||(t[19]=l("p",{class:"mt-1 text-xs text-gray-500"},"How long before reports cannot be updated",-1))]),l("div",null,[t[21]||(t[21]=l("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[p("Plan Expiry Time Unit"),l("span",{class:"text-red-500"},"*")],-1)),m(l("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>n(G).plan_expiry_unit=e),class:"w-full rounded-lg border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500 text-sm"},[...t[20]||(t[20]=[l("option",null,"Days (Production)",-1),l("option",null,"Hours",-1),l("option",null,"Minutes",-1)])],512),[[x,n(G).plan_expiry_unit]]),t[22]||(t[22]=l("p",{class:"mt-1 text-xs text-gray-500"},"Change to hours/minutes for faster testing",-1))])]),l("div",null,[t[23]||(t[23]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Allowed Plan Creation Days",-1)),l("div",E,[(d(),s(y,null,b(Q,e=>l("div",{key:e,class:"flex items-center"},[m(l("input",{type:"checkbox",id:e,value:e,"onUpdate:modelValue":t[5]||(t[5]=e=>n(G).allowed_plan_creation_days=e),class:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"},null,8,O),[[_,n(G).allowed_plan_creation_days]]),l("label",{for:e,class:"ml-2 block text-sm text-gray-900"},f(e),9,F)])),64))]),t[24]||(t[24]=l("p",{class:"mt-2 text-xs text-gray-500"},"Select valid days for plan creation. Default is Friday only.",-1))]),l("div",z,[a(n(k),{as:"div",class:"flex items-center justify-between"},{default:i(()=>[l("span",W,[a(n(j),{as:"span",class:"text-sm font-medium text-gray-900",passive:""},{default:i(()=>[...t[25]||(t[25]=[p("Testing Mode: Allow Plan Creation Any Day",-1)])]),_:1}),t[26]||(t[26]=l("span",{class:"text-xs text-gray-500"},"Enable to bypass ALL day restrictions during development/testing",-1))]),a(n(V),{modelValue:n(G).testing_mode,"onUpdate:modelValue":t[6]||(t[6]=e=>n(G).testing_mode=e),class:u([n(G).testing_mode?"bg-emerald-600":"bg-gray-200","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:ring-offset-2"])},{default:i(()=>[l("span",{"aria-hidden":"true",class:u([n(G).testing_mode?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"])]),_:1})])])]),_:1})]),_:1}),l("div",null,[l("button",{type:"submit",disabled:n(G).processing,class:"inline-flex justify-center rounded-lg border border-transparent bg-emerald-600 py-2 px-6 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all disabled:opacity-50"}," Save Changes ",8,I)])],32)])],64))}});export{N as default};
