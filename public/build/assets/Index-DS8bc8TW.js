import{r as e,c as t,v as r,E as s,G as l,u as o,H as a,D as n,J as i,O as d,K as c,L as u,M as p,Q as m,F as x,V as v,C as h,m as g,W as f,y}from"./vendor--Two-J8v.js";import{_ as w}from"./NexusLayout-hKbq2rpa.js";import{_ as b}from"./ConfirmDeleteModal-B46dWaGg.js";import"./app-i66EToh1.js";import"./DropdownLink-CFHk88F0.js";import"./Modal-BxRLw6sk.js";import"./DangerButton-GxGHjt2F.js";const k={class:"space-y-4 font-sans"},_={class:"flex items-center justify-between gap-4"},j={class:"flow-root rounded-lg border border-gray-200 bg-white shadow-sm overflow-hidden"},C={key:0,class:"bg-emerald-50 border-b border-emerald-200 px-4 py-3"},L={class:"flex items-center justify-between"},M={class:"text-sm text-emerald-700 font-medium"},B={class:"overflow-x-auto"},D={class:"min-w-full divide-y divide-gray-200"},H={class:"bg-gray-50/50"},A={scope:"col",class:"w-16 px-6 py-4"},R={class:"divide-y divide-gray-100 bg-white"},S={class:"px-6 py-4"},T=["value"],N={class:"whitespace-nowrap px-6 py-4 text-xs text-gray-500"},O={class:"whitespace-nowrap px-6 py-4 text-xs font-medium text-gray-900"},V={class:"whitespace-nowrap px-6 py-4 text-xs text-gray-500"},q={class:"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10"},z={class:"whitespace-nowrap px-6 py-4 text-right text-xs font-medium"},E={class:"flex items-center justify-end gap-2"},P=["onClick"],Q={class:"border-t border-gray-200 px-6 py-4 flex items-center justify-between"},U={class:"text-xs text-gray-500"},F={key:0,class:"flex items-center gap-1"},G=Object.assign({layout:w},{__name:"Index",props:{roles:Object},setup(w){const G=w,I=e([]),J=e(!1),K=()=>{J.value?I.value=G.roles.data.map(e=>e.id):I.value=[]},W=e(!1),$=e(null),X=e(!1),Y=()=>{X.value=!0,W.value=!0},Z=()=>{X.value?f.delete(route("roles.bulk-destroy"),{data:{ids:I.value},preserveScroll:!0,onSuccess:()=>{ee(),I.value=[],J.value=!1}}):f.delete(route("roles.destroy",$.value.id),{preserveScroll:!0,onSuccess:()=>ee()})},ee=()=>{W.value=!1,setTimeout(()=>{$.value=null,X.value=!1},200)},te=t(()=>G.roles.links.filter(e=>!e.label.includes("&laquo;")&&!e.label.includes("&raquo;")));return(e,t)=>(y(),r(x,null,[s(o(a),{title:"Role Management"}),l("div",k,[l("div",_,[t[3]||(t[3]=l("h2",{class:"text-[24px] leading-[32px] font-bold text-gray-900"},"Role Management",-1)),s(o(d),{href:e.route("roles.create"),class:"inline-flex items-center gap-x-1.5 rounded-md bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600 transition-colors"},{default:n(()=>[...t[2]||(t[2]=[l("svg",{class:"-ml-0.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[l("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1),i(" New Role ",-1)])]),_:1},8,["href"])]),l("div",j,[I.value.length>0?(y(),r("div",C,[l("div",L,[l("div",M,u(I.value.length)+" item(s) selected ",1),l("button",{onClick:Y,class:"inline-flex items-center gap-x-1.5 rounded-md bg-red-600 px-3 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-red-500 transition-colors"},[...t[4]||(t[4]=[l("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),i(" Delete Selected ",-1)])])])])):c("",!0),l("div",B,[l("table",D,[l("thead",H,[l("tr",null,[l("th",A,[p(l("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>J.value=e),onChange:K,class:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-600"},null,544),[[m,J.value]])]),t[5]||(t[5]=l("th",{scope:"col",class:"whitespace-nowrap px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"}," No ",-1)),t[6]||(t[6]=l("th",{scope:"col",class:"whitespace-nowrap px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Name",-1)),t[7]||(t[7]=l("th",{scope:"col",class:"whitespace-nowrap px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Permissions",-1)),t[8]||(t[8]=l("th",{scope:"col",class:"relative whitespace-nowrap px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Actions",-1))])]),l("tbody",R,[(y(!0),r(x,null,v(w.roles.data,(a,i)=>(y(),r("tr",{key:a.id,class:g(["hover:bg-gray-50/60 transition-colors",{"bg-emerald-50/30":I.value.includes(a.id)}])},[l("td",S,[p(l("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":t[1]||(t[1]=e=>I.value=e),class:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-600"},null,8,T),[[m,I.value]])]),l("td",N,u((w.roles.from||1)+i),1),l("td",O,u(a.name),1),l("td",V,[l("span",q,u(a.permissions.length)+" permissions ",1)]),l("td",z,[l("div",E,[s(o(d),{href:e.route("roles.edit",a.id),class:"text-gray-400 hover:text-emerald-600 transition-colors",title:"Edit"},{default:n(()=>[...t[9]||(t[9]=[l("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])]),_:1},8,["href"]),l("button",{onClick:e=>(e=>{X.value=!1,$.value=e,W.value=!0})(a),class:"text-gray-400 hover:text-red-600 transition-colors",title:"Delete"},[...t[10]||(t[10]=[l("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,P)])])],2))),128))])])]),l("div",Q,[l("div",U,u(I.value.length)+" of "+u(w.roles.data.length)+" row(s) selected. ",1),w.roles.links.length>3?(y(),r("div",F,[w.roles.first_page_url?(y(),h(o(d),{key:0,href:w.roles.first_page_url,class:g(["p-1 rounded-md text-gray-400 hover:text-emerald-600 hover:bg-gray-50 transition-colors",{"pointer-events-none opacity-50":1===w.roles.current_page}])},{default:n(()=>[...t[11]||(t[11]=[l("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"})],-1)])]),_:1},8,["href","class"])):c("",!0),w.roles.prev_page_url?(y(),h(o(d),{key:1,href:w.roles.prev_page_url,class:"p-1 rounded-md text-gray-400 hover:text-emerald-600 hover:bg-gray-50 transition-colors"},{default:n(()=>[...t[12]||(t[12]=[l("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})],-1)])]),_:1},8,["href"])):c("",!0),(y(!0),r(x,null,v(te.value,(e,t)=>(y(),h(o(d),{key:t,href:e.url??"#",class:g(["px-3 py-1 rounded-md text-xs font-medium transition-colors border",e.active?"bg-emerald-600 text-white border-emerald-600":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128)),w.roles.next_page_url?(y(),h(o(d),{key:2,href:w.roles.next_page_url,class:"p-1 rounded-md text-gray-400 hover:text-emerald-600 hover:bg-gray-50 transition-colors"},{default:n(()=>[...t[13]||(t[13]=[l("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1)])]),_:1},8,["href"])):c("",!0),w.roles.last_page_url?(y(),h(o(d),{key:3,href:w.roles.last_page_url,class:g(["p-1 rounded-md text-gray-400 hover:text-emerald-600 hover:bg-gray-50 transition-colors",{"pointer-events-none opacity-50":w.roles.current_page===w.roles.last_page}])},{default:n(()=>[...t[14]||(t[14]=[l("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})],-1)])]),_:1},8,["href","class"])):c("",!0)])):c("",!0)])])]),s(b,{show:W.value,title:X.value?"Delete Roles":"Delete Role",content:X.value?"Are you sure you want to delete the selected roles? This action cannot be undone.":`Are you sure you want to delete the role '${$.value?.name}'? This action cannot be undone.`,onClose:ee,onConfirm:Z},null,8,["show","title","content"])],64))}});export{G as default};
