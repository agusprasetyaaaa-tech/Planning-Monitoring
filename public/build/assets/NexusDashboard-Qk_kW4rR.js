import{r as e,w as t,W as a,c as l,X as r,e as s,v as o,E as i,u as n,H as d,F as c,G as u,M as b,N as m,U as g,V as v,L as p,K as f,x,D as h,y,J as w,m as k,O as C,Y as j}from"./vendor-COFecK3v.js";import{_ as M}from"./NexusLayout-CLh_WktA.js";import{a as A,_}from"./DropdownLink-CM7j1Xqm.js";import"./app-CPptz1bH.js";const z={class:"bg-gray-100 rounded-2xl pt-5 px-3 pb-3 mb-8"},P={class:"bg-white rounded-2xl p-5"},$={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},N=["value"],T=["value"],B={class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-6 md:mb-8"},D={class:"bg-gray-100 rounded-2xl pt-5 px-3 pb-3"},H={class:"bg-white rounded-2xl p-5"},V={class:"flex items-center justify-between"},O={class:"text-gray-900 text-4xl font-extrabold mb-1"},L={class:"bg-gray-100 rounded-2xl pt-5 px-3 pb-3"},S={class:"bg-white rounded-2xl p-5"},U={class:"flex items-center justify-between"},E={class:"text-gray-900 text-4xl font-extrabold mb-1"},I={class:"bg-gray-100 rounded-2xl pt-5 px-3 pb-3"},R={class:"bg-white rounded-2xl p-5"},F={class:"flex items-center justify-between"},W={class:"text-gray-900 text-4xl font-extrabold mb-1"},Y={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8"},Z={class:"bg-gray-100 rounded-2xl pt-5 px-3 pb-3"},X={class:"bg-white rounded-2xl p-4 md:p-5"},G={class:"w-full"},J={class:"h-64"},K={class:"bg-gray-100 rounded-2xl pt-5 px-3 pb-3"},Q={class:"bg-white rounded-2xl p-4 md:p-5"},q={class:"w-full"},ee={class:"h-64"},te={class:"bg-gray-100 rounded-2xl pt-5 px-3 pb-3 mb-6 md:mb-8"},ae={class:"bg-white rounded-2xl p-4 md:p-5"},le={class:"flex gap-4 pl-4 pr-8 relative mb-4"},re={class:"flex flex-col justify-between items-end h-80 relative shrink-0 w-8 select-none"},se={class:"flex-1 relative h-80 border-l border-b border-gray-100"},oe={class:"absolute inset-0 w-full h-full flex flex-col justify-between pointer-events-none"},ie={class:"relative w-full h-full flex items-end justify-between px-2 gap-2 z-10"},ne={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-400"},de={class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:flex flex-col items-center z-50 pointer-events-none transition-opacity duration-200 min-w-max"},ce={class:"bg-gray-900 text-white text-xs rounded-md py-2 px-3 shadow-xl mb-1 flex flex-col items-center gap-1"},ue={class:"font-bold uppercase tracking-wide border-b border-gray-700 pb-1 mb-1 whitespace-nowrap"},be={class:"flex items-center gap-2"},me={class:"absolute top-full left-1/2 mt-3 transform rotate-45 origin-top-left text-[10px] text-gray-500 font-medium whitespace-nowrap w-32 truncate group-hover:text-gray-800 transition-colors z-0"},ge={class:"flex items-center justify-end gap-4 mt-2 px-4 border-t border-gray-100 pt-4 select-none"},ve={class:"text-sm text-gray-500"},pe={class:"flex gap-2"},fe=["disabled"],xe=["disabled"],he={class:"bg-gray-100 rounded-2xl pt-5 px-3 pb-3 mb-6 md:mb-8"},ye={class:"bg-white rounded-2xl p-4 md:p-5"},we={class:"flex gap-4 pl-4 pr-8 relative mb-4"},ke={class:"flex flex-col justify-between items-end h-80 relative shrink-0 w-10 select-none"},Ce={class:"flex-1 relative h-80 border-l border-b border-gray-100"},je={class:"absolute inset-0 w-full h-full flex flex-col justify-between pointer-events-none"},Me={class:"relative w-full h-full flex items-end justify-between px-2 gap-1 z-10"},Ae={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-400"},_e={class:"absolute -bottom-6 left-1/2 -translate-x-1/2 -translate-y-full mb-3 hidden group-hover:flex flex-col items-start z-[100] pointer-events-none transition-opacity duration-200 min-w-max"},ze={class:"bg-gray-900 text-white text-xs rounded-md py-2 px-3 shadow-xl mb-1"},Pe={class:"font-bold uppercase tracking-wide border-b border-gray-700 pb-1 mb-2 whitespace-nowrap text-center"},$e={class:"whitespace-nowrap"},Ne={class:"absolute top-full left-1/2 mt-3 transform rotate-45 origin-top-left text-[10px] text-gray-500 font-medium whitespace-nowrap w-32 truncate group-hover:text-gray-800 transition-colors z-0"},Te={class:"flex flex-wrap justify-center gap-x-4 gap-y-2 mb-6 pb-6 border-b border-gray-100"},Be={class:"text-xs text-gray-600 font-medium"},De={class:"flex items-center justify-end gap-4 px-4 select-none"},He={class:"text-sm text-gray-500"},Ve={class:"flex gap-2"},Oe=["disabled"],Le=["disabled"],Se={class:"bg-gray-100 rounded-2xl pt-5 px-3 pb-3 mb-6 md:mb-8"},Ue={class:"bg-white rounded-2xl p-4 md:p-5"},Ee={class:"relative",style:{height:"400px"}},Ie={class:"relative mb-8 text-white z-50"},Re={class:"px-6 md:px-8 pt-8 pb-6 mx-auto max-w-7xl"},Fe={class:"flex items-center justify-between"},We={class:"flex flex-col"},Ye={class:"text-2xl md:text-4xl font-bold tracking-tight uppercase"},Ze={class:"mt-3 inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/20 backdrop-blur-sm border border-white/20 self-start shadow-sm"},Xe={class:"text-xs md:text-sm font-semibold text-white tracking-wide"},Ge={class:"flex items-center gap-3 md:gap-5"},Je={class:"static lg:relative"},Ke={class:"p-2.5 text-white/90 hover:bg-white/20 hover:text-white rounded-full relative transition-all duration-200 group active:scale-95 shadow-sm border border-white/10 backdrop-blur-sm"},Qe={key:0,class:"absolute top-2.5 right-3 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white animate-pulse shadow-sm"},qe={class:"px-4 py-3 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"},et={key:0,class:"px-4 py-8 text-center text-gray-400 text-sm"},tt={key:1,class:"max-h-80 overflow-y-auto custom-scrollbar"},at=["onClick"],lt={class:"flex-shrink-0 mt-1"},rt={key:0,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},st={key:1,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ot={key:2,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},it={key:3,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},nt={class:"ml-3 flex-1 text-left"},dt={class:"text-sm font-bold text-gray-900"},ct={class:"text-xs text-gray-700 mt-0.5 line-clamp-2 leading-relaxed"},ut={class:"text-xs text-gray-500 mt-1.5 flex items-center gap-1"},bt={key:0,class:"absolute top-4 right-4 w-2 h-2 rounded-full bg-blue-500 ring-2 ring-white"},mt={class:"relative"},gt={class:"relative group transition-transform active:scale-95 focus:outline-none"},vt={class:"p-1 rounded-full border-2 border-white/30 hover:border-white transition-colors"},pt=["src"],ft={class:"px-4 py-3 border-b border-gray-100"},xt={class:"text-sm font-semibold text-gray-900"},ht={class:"text-xs text-gray-500"},yt={class:"max-w-7xl mx-auto px-6 md:px-8 pb-12"},wt={class:"hidden lg:block bg-white rounded-[2.5rem] p-6 md:p-10 shadow-lg border border-gray-100 relative overflow-hidden mb-12"},kt={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12 relative z-10"},Ct={class:"grid grid-cols-2 md:grid-cols-4 gap-6 relative z-10"},jt={class:"group relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100/50 rounded-2xl p-6 border border-gray-200 hover:border-gray-300 hover:shadow-lg transition-all duration-300"},Mt={class:"relative z-10"},At={class:"flex items-baseline gap-2"},_t={class:"text-4xl font-black text-gray-800"},zt={class:"group relative overflow-hidden bg-gradient-to-br from-blue-50 to-blue-100/50 rounded-2xl p-6 border border-blue-200 hover:border-blue-300 hover:shadow-lg hover:shadow-blue-100 transition-all duration-300"},Pt={class:"relative z-10"},$t={class:"flex items-baseline gap-2"},Nt={class:"text-4xl font-black text-blue-700"},Tt={class:"group relative overflow-hidden bg-gradient-to-br from-amber-50 to-amber-100/50 rounded-2xl p-6 border border-amber-200 hover:border-amber-300 hover:shadow-lg hover:shadow-amber-100 transition-all duration-300"},Bt={class:"relative z-10"},Dt={class:"flex items-center gap-2 mb-2"},Ht={key:0,class:"flex h-2 w-2"},Vt={class:"flex items-baseline gap-2"},Ot={class:"text-4xl font-black text-amber-700"},Lt={class:"group relative overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200/50 rounded-2xl p-6 border border-gray-300 hover:border-gray-400 hover:shadow-lg hover:shadow-gray-200 transition-all duration-300"},St={class:"relative z-10"},Ut={class:"flex items-baseline gap-2"},Et={class:"text-4xl font-black text-gray-900"},It={class:"bg-white rounded-[2.5rem] p-6 md:p-10 shadow-lg border border-gray-100 relative overflow-hidden mb-12"},Rt={class:"mb-10 p-6 bg-gray-50 rounded-3xl border border-gray-100"},Ft={key:0},Wt=["value"],Yt={key:1},Zt=["value"],Xt={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10"},Gt={class:"bg-gray-50 rounded-3xl p-6 border border-gray-100 flex items-center justify-between hover:bg-gray-100 transition-colors"},Jt={class:"text-gray-900 text-3xl font-black"},Kt={class:"bg-gray-50 rounded-3xl p-6 border border-gray-100 flex items-center justify-between hover:bg-gray-100 transition-colors"},Qt={class:"text-gray-900 text-3xl font-black"},qt={class:"bg-gray-50 rounded-3xl p-6 border border-gray-100 flex items-center justify-between hover:bg-gray-100 transition-colors"},ea={class:"text-gray-900 text-3xl font-black"},ta={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-10"},aa={class:"bg-gray-50 rounded-3xl p-8 border border-gray-100"},la={class:"h-64"},ra={class:"bg-gray-50 rounded-3xl p-8 border border-gray-100"},sa={class:"h-64"},oa={class:"bg-gray-50 rounded-3xl p-4 md:p-8 border border-gray-100 mb-10"},ia={class:"relative bg-white rounded-2xl p-2 md:p-5 overflow-x-auto"},na={class:"flex gap-4 pl-8 pr-4 relative mb-4 min-w-[750px] md:min-w-0"},da={class:"flex flex-col justify-between items-end h-80 relative shrink-0 w-8 select-none"},ca={class:"absolute -left-10 top-1/2 -translate-y-1/2 -rotate-90 text-xs font-bold text-gray-500 whitespace-nowrap tracking-wide capitalize"},ua={class:"flex-1 relative h-80 border-l border-b border-gray-100"},ba={class:"absolute inset-0 w-full h-full flex flex-col justify-between pointer-events-none"},ma={class:"relative w-full h-full flex items-end justify-between px-2 gap-2 z-10"},ga={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-400"},va={class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:flex flex-col items-center z-50 pointer-events-none transition-opacity duration-200 min-w-max"},pa={class:"bg-gray-900 text-white text-xs rounded-md py-2 px-3 shadow-xl mb-1 flex flex-col items-center gap-1"},fa={class:"font-bold uppercase tracking-wide border-b border-gray-700 pb-1 mb-1 whitespace-nowrap"},xa={class:"flex items-center gap-2"},ha={class:"absolute top-full left-1/2 mt-3 transform rotate-45 origin-top-left text-[10px] text-gray-500 font-medium whitespace-nowrap w-32 truncate group-hover:text-gray-800 transition-colors z-0"},ya={class:"flex items-center justify-end gap-4 mt-2 px-4 border-t border-gray-100 pt-4 select-none"},wa={class:"text-sm text-gray-500"},ka={class:"flex gap-2"},Ca=["disabled"],ja=["disabled"],Ma={class:"bg-gray-50 rounded-3xl p-4 md:p-8 border border-gray-100 mb-10"},Aa={class:"bg-white rounded-2xl p-2 md:p-5 overflow-x-auto"},_a={class:"flex gap-4 pl-8 pr-4 relative mb-4 min-w-[750px] md:min-w-0"},za={class:"flex flex-col justify-between items-end h-80 relative shrink-0 w-10 select-none"},Pa={class:"flex-1 relative h-80 border-l border-b border-gray-100"},$a={class:"absolute inset-0 w-full h-full flex flex-col justify-between pointer-events-none"},Na={class:"relative w-full h-full flex items-end justify-between px-2 gap-1 z-10"},Ta={key:0,class:"absolute inset-0 flex items-center justify-center text-gray-400"},Ba={class:"absolute -bottom-6 left-1/2 -translate-x-1/2 -translate-y-full mb-3 hidden group-hover:flex flex-col items-start z-[100] pointer-events-none transition-opacity duration-200 min-w-max"},Da={class:"bg-gray-900 text-white text-xs rounded-md py-2 px-3 shadow-xl mb-1"},Ha={class:"font-bold uppercase tracking-wide border-b border-gray-700 pb-1 mb-2 whitespace-nowrap text-center"},Va={class:"whitespace-nowrap"},Oa={class:"absolute top-full left-1/2 mt-3 transform rotate-45 origin-top-left text-[10px] text-gray-500 font-medium whitespace-nowrap w-32 truncate group-hover:text-gray-800 transition-colors z-0"},La={class:"flex flex-wrap justify-center gap-x-4 gap-y-2 mb-6 pb-6 border-b border-gray-100"},Sa={class:"text-xs text-gray-600 font-medium"},Ua={class:"flex items-center justify-end gap-4 px-4 select-none"},Ea={class:"text-sm text-gray-500"},Ia={class:"flex gap-2"},Ra=["disabled"],Fa=["disabled"],Wa={class:"bg-gray-50 rounded-3xl p-4 md:p-8 border border-gray-100"},Ya={class:"relative",style:{height:"400px"}},Za=Object.assign({layout:M},{__name:"NexusDashboard",props:{totalActivitiesCount:{type:Number,default:0},activeCustomerCount:{type:Number,default:0},totalCustomerCount:{type:Number,default:0},activitiesTrend:{type:Array,default:()=>[]},activeCustomersTrend:{type:Array,default:()=>[]},totalCustomersTrend:{type:Array,default:()=>[]},noPlanningCount:Number,warningPlanningCount:Number,lateRejectedCount:Number,completedCount:Number,closingCount:Number,onProgressCount:Number,activityDistribution:{type:Object,default:()=>({})},customerHealthStats:{type:Object,default:()=>({})},inactiveCustomers:{type:Array,default:()=>[]},customerActivityBreakdown:{type:Array,default:()=>[]},dailyActivityTrend:{type:Array,default:()=>[]},teams:{type:Array,default:()=>[]},users:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},timeUnit:{type:String,default:"days"}},setup(M){const Za=M,Xa=e({start_date:Za.filters.start_date||"",end_date:Za.filters.end_date||"",team_id:Za.filters.team_id||"",user_id:Za.filters.user_id||""}),Ga=()=>{a.post(route("notifications.read-all"),{},{preserveScroll:!0})};t(Xa.value,e=>{a.get(route("dashboard"),e,{preserveState:!0,preserveScroll:!0,replace:!0})},{deep:!0});const Ja=l(()=>{if(!Za.inactiveCustomers||0===Za.inactiveCustomers.length)return 0;const e=Za.inactiveCustomers.map(e=>Number(e.days_inactive)||0);return Math.max(...e,0)}),Ka=l(()=>{let e=Ja.value,t=e<5?5:Math.ceil(1.2*e);if(t<=10){const e=[];for(let a=t;a>=0;a--)e.push(a);return e}const a=Math.ceil(t/5),l=[];for(let r=5;r>=0;r--)l.push(r*a);return l}),Qa=l(()=>Ka.value[0]),qa=e(1),el=l(()=>{const e=15*(qa.value-1);return Za.inactiveCustomers.slice(e,e+15)}),tl=l(()=>Math.ceil((Za.inactiveCustomers.length||0)/15)),al=()=>{qa.value<tl.value&&qa.value++},ll=()=>{qa.value>1&&qa.value--},rl=e(1),sl=l(()=>{const e=12*(rl.value-1);return Za.customerActivityBreakdown.slice(e,e+12)}),ol=l(()=>Math.ceil((Za.customerActivityBreakdown.length||0)/12)),il=()=>{rl.value<ol.value&&rl.value++},nl=()=>{rl.value>1&&rl.value--},dl=l(()=>{const e=new Set;return Za.customerActivityBreakdown.forEach(t=>{Object.keys(t.activities).forEach(t=>e.add(t))}),Array.from(e)}),cl=l(()=>({Visit:"#d946ef",Ent:"#f59e0b",Entertainment:"#f59e0b","Online meeting":"#ef4444","Online Meeting":"#ef4444",Call:"#22c55e",Survey:"#8b5cf6","Admin/Tender":"#06b6d4",Tender:"#06b6d4","Administration tender":"#06b6d4",Proposal:"#f97316",Presentation:"#0ea5e9",Closing:"#000000",Negotiation:"#ec4899",Other:"#6366f1"})),ul=l(()=>Za.customerActivityBreakdown&&0!==Za.customerActivityBreakdown.length?Math.max(...Za.customerActivityBreakdown.map(e=>e.total),10):10),bl=r(),ml=l(()=>bl.props.auth?.user?.roles?.includes("Super Admin")),gl=(e,t=40,a=0)=>{let l=Object.values(e).reduce((e,t)=>e+t,0);if(0===l)return[];let r=0;const s=[],o=50,i=50,n=["#0ea5e9","#8b5cf6","#f59e0b","#ec4899","#10b981","#6366f1"];let d=0;const c={"Online Meeting":"#ef4444",Visit:"#d946ef",Survey:"#8b5cf6",Call:"#eab308",Other:"#9ca3af",Negotiation:"#ec4899",Ent:"#22c55e",Presentation:"#0ea5e9","Administration tender":"#4b5563",Proposal:"#f97316","On Track":"#10b981",Warning:"#ef4444"},u=Object.entries(e).filter(([e,t])=>t>0).sort((e,t)=>t[1]-e[1]);for(const[b,m]of u){let e=m/l*360;e>=360&&(e=359.99);const u=e>180?1:0,g=(r-90)*Math.PI/180,v=(r+e-90)*Math.PI/180,p=o+t*Math.cos(g),f=i+t*Math.sin(g),x=o+t*Math.cos(v),h=i+t*Math.sin(v),y=(r+e/2-90)*Math.PI/180,w=a+(t-a)/2,k=o+w*Math.cos(y),C=i+w*Math.sin(y);let j="";if(a>0){const e=o+a*Math.cos(g),l=i+a*Math.sin(g);j=[`M ${p} ${f}`,`A ${t} ${t} 0 ${u} 1 ${x} ${h}`,`L ${o+a*Math.cos(v)} ${i+a*Math.sin(v)}`,`A ${a} ${a} 0 ${u} 0 ${e} ${l}`,"Z"].join(" ")}else j=["M 50 50",`L ${p} ${f}`,`A ${t} ${t} 0 ${u} 1 ${x} ${h}`,"Z"].join(" ");let M=c[Object.keys(c).find(e=>e.toLowerCase()===b.toLowerCase())]||c[b]||n[d%n.length];const A=Math.round(m/l*100);s.push({d:j,color:M,label:b,value:m,percentage:A,formattedPercentage:(m/l*100).toFixed(1)+"%",labelX:k,labelY:C,showLabel:A>4}),r+=e,d++}return s};l(()=>gl(Za.activityDistribution,40,25)),l(()=>gl(Za.customerHealthStats,40,25)),l(()=>{const e=Za.totalCustomerCount||1,t=Za.customerHealthStats||{};return[{label:"On Track",value:t["On Track"]||0,color:"#10b981",percentage:((t["On Track"]||0)/e*100).toFixed(1)},{label:"Warning",value:t.Warning||0,color:"#ef4444",percentage:((t.Warning||0)/e*100).toFixed(1)}]});const vl=e(null),pl=e(null),fl=e(null);let xl=null,hl=null,yl=null;const wl=l(()=>{const e=Za.activityDistribution||{},t=Object.keys(e),a=Object.values(e);a.reduce((e,t)=>e+t,0);return{labels:t,data:a,colors:t.map(e=>({"Online Meeting":"#ef4444",Visit:"#d946ef",Survey:"#8b5cf6",Call:"#22c55e",Other:"#6366f1",Negotiation:"#ec4899",Ent:"#f59e0b",Presentation:"#0ea5e9","Administration tender":"#06b6d4",Proposal:"#f97316"}[e]||"#6366f1"))}}),kl=l(()=>{const e=Za.customerHealthStats||{},t=[e["No Planning"]||0,e["Planning Approved"]||0,e["Planning Rejected"]||0,e["Planning Closing"]||0,e["Planning Expired"]||0,e["Warning Planning"]||0];t.reduce((e,t)=>e+t,0);return{labels:["No Planning","Approved","Rejected","Closing","Expired","Warning"],data:t,colors:["#d1d5db","#22c55e","#ef4444","#000000","#6b7280","#f59e0b"]}});function Cl(){if(!pl.value||!wl.value)return;const e=pl.value.getContext("2d"),t=wl.value;hl&&hl.destroy(),hl=new Chart(e,{type:"doughnut",data:{labels:t.labels,datasets:[{data:t.data,backgroundColor:t.colors,borderWidth:2,borderColor:"#fff"}]},options:{animation:!1,responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:15,font:{size:12}}},datalabels:{display:!1}}}})}function jl(){if(!fl.value||!kl.value)return;const e=fl.value.getContext("2d"),t=kl.value;yl&&yl.destroy(),t.data.reduce((e,t)=>e+t,0),yl=new Chart(e,{type:"doughnut",data:{labels:t.labels,datasets:[{data:t.data,backgroundColor:t.colors,borderWidth:3,borderColor:"#fff"}]},options:{animation:!1,responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:15,font:{size:12}}},datalabels:{display:!1}}}})}function Ml(){if(!vl.value||!Za.dailyActivityTrend)return;const e=vl.value.getContext("2d"),t=Za.dailyActivityTrend.map(e=>new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),a=Za.dailyActivityTrend.map(e=>e.count||0);xl&&xl.destroy(),xl=new Chart(e,{type:"line",data:{labels:t,datasets:[{label:"Activities",data:a,borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"#f59e0b",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(e){return`Activities: ${e.parsed.y}`}}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45,font:{size:11}}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{stepSize:5,font:{size:11}}}},interaction:{mode:"index",intersect:!1}}})}return s(()=>{if("undefined"==typeof Chart){const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js";const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js",e.onload=()=>{t.onload=()=>{"undefined"!=typeof ChartDataLabels&&Chart.register(ChartDataLabels),Cl(),jl(),Ml()},document.head.appendChild(t)},document.head.appendChild(e)}else if("undefined"==typeof ChartDataLabels){const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js",e.onload=()=>{"undefined"!=typeof ChartDataLabels&&Chart.register(ChartDataLabels),Cl(),jl(),Ml()},document.head.appendChild(e)}else Chart.register(ChartDataLabels),Cl(),jl(),Ml()}),t(()=>Za.activityDistribution,()=>{"undefined"!=typeof Chart&&pl.value&&Cl()},{deep:!0}),t(()=>Za.customerHealthStats,()=>{"undefined"!=typeof Chart&&fl.value&&jl()},{deep:!0}),(e,t)=>(y(),o(c,null,[i(n(d),{title:"Dashboard"}),ml.value?(y(),o(c,{key:0},[t[37]||(t[37]=u("div",{class:"mb-6"},[u("h1",{class:"text-2xl font-bold text-gray-900"},"Analytics Dashboard"),u("p",{class:"text-gray-500 text-sm mt-1"},"Comprehensive data insights and performance metrics")],-1)),u("div",z,[t[14]||(t[14]=u("h2",{class:"text-gray-900 text-lg font-bold ml-3 mb-4"},"Date Range & Filters",-1)),u("div",P,[u("div",$,[u("div",null,[t[8]||(t[8]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),b(u("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>Xa.value.start_date=e),class:"w-full rounded-lg border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 text-sm"},null,512),[[m,Xa.value.start_date]])]),u("div",null,[t[9]||(t[9]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),b(u("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>Xa.value.end_date=e),class:"w-full rounded-lg border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 text-sm"},null,512),[[m,Xa.value.end_date]])]),u("div",null,[t[11]||(t[11]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Filter Teams",-1)),b(u("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>Xa.value.team_id=e),class:"w-full rounded-lg border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 text-sm"},[t[10]||(t[10]=u("option",{value:""},"All Teams",-1)),(y(!0),o(c,null,v(M.teams,e=>(y(),o("option",{key:e.id,value:e.id},p(e.name),9,N))),128))],512),[[g,Xa.value.team_id]])]),u("div",null,[t[13]||(t[13]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Filter User",-1)),b(u("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>Xa.value.user_id=e),class:"w-full rounded-lg border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 text-sm"},[t[12]||(t[12]=u("option",{value:""},"All Users",-1)),(y(!0),o(c,null,v(M.users,e=>(y(),o("option",{key:e.id,value:e.id},p(e.name),9,T))),128))],512),[[g,Xa.value.user_id]])])])])]),u("div",B,[u("div",D,[t[17]||(t[17]=u("h3",{class:"text-gray-900 text-lg font-bold ml-3 mb-4"},"Total Activities",-1)),u("div",H,[u("div",V,[u("div",null,[u("p",O,p(M.totalActivitiesCount),1),t[15]||(t[15]=u("p",{class:"text-gray-500 text-sm font-medium"},"All reports",-1))]),t[16]||(t[16]=u("div",{class:"w-16 h-16 bg-[#4169E1] rounded-full flex items-center justify-center"},[u("svg",{class:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 002 2h2a2 2 0 002-2z"})])],-1))])])]),u("div",L,[t[20]||(t[20]=u("h3",{class:"text-gray-900 text-lg font-bold ml-3 mb-4"},"Active Customers",-1)),u("div",S,[u("div",U,[u("div",null,[u("p",E,p(M.activeCustomerCount),1),t[18]||(t[18]=u("p",{class:"text-green-600 text-sm font-medium"},"On progress",-1))]),t[19]||(t[19]=u("div",{class:"w-16 h-16 bg-[#059669] rounded-full flex items-center justify-center"},[u("svg",{class:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1))])])]),u("div",I,[t[23]||(t[23]=u("h3",{class:"text-gray-900 text-lg font-bold ml-3 mb-4"},"Total Customers",-1)),u("div",R,[u("div",F,[u("div",null,[u("p",W,p(M.totalCustomerCount),1),t[21]||(t[21]=u("p",{class:"text-gray-500 text-sm font-medium"},"In database",-1))]),t[22]||(t[22]=u("div",{class:"w-16 h-16 bg-[#FFD700] rounded-full flex items-center justify-center"},[u("svg",{class:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1))])])])]),u("div",Y,[u("div",Z,[t[24]||(t[24]=u("h3",{class:"text-gray-900 text-lg font-bold ml-3 mb-4"},"Activity Marketing",-1)),u("div",X,[u("div",G,[u("div",J,[u("canvas",{ref_key:"activityMarketingChart",ref:pl},null,512)])])])]),u("div",K,[t[25]||(t[25]=u("h3",{class:"text-gray-900 text-lg font-bold ml-3 mb-4"},"Planning Health",-1)),u("div",Q,[u("div",q,[u("div",ee,[u("canvas",{ref_key:"customerHealthChart",ref:fl},null,512)])])])])]),u("div",te,[t[30]||(t[30]=u("h3",{class:"text-gray-900 text-lg font-bold ml-3 mb-4"},"Customer Health Status (Inactive Duration)",-1)),u("div",ae,[u("div",le,[u("div",re,[t[26]||(t[26]=u("div",{class:"absolute -left-10 top-1/2 -translate-y-1/2 -rotate-90 text-xs font-bold text-gray-500 whitespace-nowrap tracking-wide"}," Day Inactive ",-1)),(y(!0),o(c,null,v(Ka.value,(e,t)=>(y(),o("div",{key:"tick-"+t,class:"text-xs text-gray-400 font-medium h-4 flex items-center transform translate-y-2"},p(e),1))),128))]),u("div",se,[u("div",oe,[(y(!0),o(c,null,v(Ka.value,(e,t)=>(y(),o("div",{key:"grid-"+t,class:"w-full border-t border-gray-100/60 h-0 transform translate-y-2"}))),128))]),u("div",ie,[0===el.value.length?(y(),o("div",ne,"No Data Available")):f("",!0),(y(!0),o(c,null,v(el.value,e=>(y(),o("div",{key:e.id,class:"group flex flex-col justify-end items-center flex-1 h-full relative"},[u("div",{class:k(["w-full max-w-[40px] rounded-lg transition-all duration-500 hover:opacity-90 relative",e.is_warning?"bg-red-500":"bg-emerald-400"]),style:j({height:Math.max(e.days_inactive/(Qa.value||1)*100,1)+"%",backgroundColor:e.is_warning?"#ef4444":"#34d399"})},[u("div",de,[u("div",ce,[u("span",ue,p(e.name)+p(e.product?" ("+e.product+")":""),1),u("div",be,[u("span",{class:k(["w-2 h-2 rounded-full",e.is_warning?"bg-red-400":"bg-emerald-400"])},null,2),u("span",null,"Inactive: "+p(e.days_inactive)+" days",1)])]),t[27]||(t[27]=u("div",{class:"w-2 h-2 bg-gray-900 rotate-45 -mt-1.5"},null,-1))])],6),u("div",me,p(e.name),1)]))),128))])])]),t[28]||(t[28]=u("div",{class:"h-32"},null,-1)),t[29]||(t[29]=u("div",{class:"text-center text-sm font-bold text-gray-700 mb-4 select-none"}," Customer Name (Product) ",-1)),u("div",ge,[u("span",ve,"Page "+p(qa.value)+" of "+p(tl.value),1),u("div",pe,[u("button",{onClick:ll,disabled:1===qa.value,class:"px-3 py-1 text-sm bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-gray-700"}," « Prev ",8,fe),u("button",{onClick:al,disabled:qa.value===tl.value,class:"px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded hover:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"}," Next » ",8,xe)])])])]),u("div",he,[t[35]||(t[35]=u("h3",{class:"text-gray-900 text-lg font-bold ml-3 mb-4"},"Companies Activity Breakdown",-1)),u("div",ye,[u("div",we,[u("div",ke,[t[31]||(t[31]=u("div",{class:"absolute -left-12 top-1/2 -translate-y-1/2 -rotate-90 text-xs font-bold text-gray-500 whitespace-nowrap tracking-wide"}," ALL ACTIVITY ",-1)),(y(),o(c,null,v(6,e=>u("div",{key:"ytick-"+e,class:"text-xs text-gray-400 font-medium h-4 flex items-center transform translate-y-2"},p(Math.round(ul.value*(6-e)/5)),1)),64))]),u("div",Ce,[u("div",je,[(y(),o(c,null,v(6,e=>u("div",{key:"ygrid-"+e,class:"w-full border-t border-gray-100/60 h-0 transform translate-y-2"})),64))]),u("div",Me,[0===sl.value.length?(y(),o("div",Ae,"No Activity Data")):f("",!0),(y(!0),o(c,null,v(sl.value,(e,a)=>(y(),o("div",{key:"act-"+e.id,class:"group flex flex-col justify-end items-center flex-1 h-full relative"},[u("div",{class:"w-full max-w-[50px] rounded-lg overflow-hidden relative flex flex-col-reverse items-stretch",style:j({height:Math.max(e.total/ul.value*100,1)+"%"})},[(y(!0),o(c,null,v(e.activities,(t,a,l)=>(y(),o("div",{key:a,class:"transition-opacity duration-300 relative",style:j({height:t/e.total*100+"%",backgroundColor:cl.value[a]||"#9ca3af"})},null,4))),128))],4),u("div",_e,[u("div",ze,[u("div",Pe,p(e.name)+" "+p(Math.round(e.total/(sl.value.reduce((e,t)=>e+t.total,0)||1)*100))+"% ",1),(y(!0),o(c,null,v(e.activities,(e,t)=>(y(),o("div",{key:"tt-"+t,class:"flex items-center gap-2 mb-1"},[u("span",{class:"w-3 h-3 rounded-full flex-shrink-0",style:j({backgroundColor:cl.value[t]})},null,4),u("span",$e,p(t)+": "+p(e),1)]))),128))]),t[32]||(t[32]=u("div",{class:"w-2 h-2 bg-gray-900 rotate-45 -mt-1.5 self-center"},null,-1))]),u("div",Ne,p(e.name),1)]))),128))])])]),t[33]||(t[33]=u("div",{class:"h-32"},null,-1)),t[34]||(t[34]=u("div",{class:"text-center text-sm font-bold text-gray-700 mb-6 select-none"}," Customer Name ",-1)),u("div",Te,[(y(!0),o(c,null,v(dl.value,e=>(y(),o("div",{key:e,class:"flex items-center gap-2"},[u("span",{class:"w-3 h-3 rounded-full",style:j({backgroundColor:cl.value[e]||"#9ca3af"})},null,4),u("span",Be,p(e),1)]))),128))]),u("div",De,[u("span",He,"Page "+p(rl.value)+" of "+p(ol.value),1),u("div",Ve,[u("button",{onClick:nl,disabled:1===rl.value,class:"px-3 py-1 text-sm bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-gray-700"}," « Prev ",8,Oe),u("button",{onClick:il,disabled:rl.value===ol.value,class:"px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded hover:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"}," Next » ",8,Le)])])])]),u("div",Se,[t[36]||(t[36]=u("h3",{class:"text-gray-900 text-lg font-bold ml-3 mb-4"},"Activity Trend",-1)),u("div",Ue,[u("div",Ee,[u("canvas",{ref_key:"activityTrendChart",ref:vl},null,512)])])])],64)):(y(),o(c,{key:1},[u("div",Ie,[t[51]||(t[51]=x('<div class="absolute inset-0 bg-gradient-to-r from-blue-600 to-emerald-600 rounded-b-[2rem] md:rounded-b-[3rem] shadow-lg overflow-hidden -z-10"><div class="absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full mix-blend-overlay filter blur-3xl translate-x-1/3 -translate-y-1/2"></div><div class="absolute bottom-0 left-0 w-64 h-64 bg-white/10 rounded-full mix-blend-overlay filter blur-2xl -translate-x-1/3 translate-y-1/3"></div><div class="absolute left-8 md:left-16 top-8 opacity-20 hidden lg:block"><svg width="100" height="60" viewBox="0 0 100 60" class="overflow-visible"><line x1="0" y1="15" x2="100" y2="15" stroke="white" stroke-width="0.5" opacity="0.3"></line><line x1="0" y1="30" x2="100" y2="30" stroke="white" stroke-width="0.5" opacity="0.3"></line><line x1="0" y1="45" x2="100" y2="45" stroke="white" stroke-width="0.5" opacity="0.3"></line><path d="M 0 40 Q 25 20, 50 35 T 100 25" fill="none" stroke="white" stroke-width="2" opacity="0.7" class="animate-line-draw"></path><circle cx="0" cy="40" r="2" fill="cyan" opacity="0.8" class="animate-pulse"></circle><circle cx="50" cy="35" r="2" fill="cyan" opacity="0.8" class="animate-pulse" style="animation-delay:0.5s;"></circle><circle cx="100" cy="25" r="2" fill="cyan" opacity="0.8" class="animate-pulse" style="animation-delay:1s;"></circle></svg></div><div class="absolute left-8 md:left-16 bottom-6 opacity-20 hidden lg:block"><svg width="70" height="70" viewBox="0 0 100 100" class="animate-spin-slow"><circle cx="50" cy="50" r="45" fill="none" stroke="white" stroke-width="8" opacity="0.2"></circle><circle cx="50" cy="50" r="45" fill="none" stroke="white" stroke-width="8" opacity="0.6" stroke-dasharray="90 282" stroke-dashoffset="0" transform="rotate(-90 50 50)" class="animate-pie-1"></circle><circle cx="50" cy="50" r="45" fill="none" stroke="cyan" stroke-width="8" opacity="0.7" stroke-dasharray="70 282" stroke-dashoffset="-90" transform="rotate(-90 50 50)" class="animate-pie-2"></circle><circle cx="50" cy="50" r="45" fill="none" stroke="emerald" stroke-width="8" opacity="0.6" stroke-dasharray="50 282" stroke-dashoffset="-160" transform="rotate(-90 50 50)" class="animate-pie-3"></circle><circle cx="50" cy="50" r="8" fill="white" opacity="0.4"></circle></svg></div><div class="absolute inset-0 overflow-hidden pointer-events-none"><div class="absolute w-2 h-2 bg-white/30 rounded-full animate-float-1" style="left:15%;top:20%;"></div><div class="absolute w-1.5 h-1.5 bg-cyan-200/40 rounded-full animate-float-2" style="left:25%;top:60%;"></div><div class="absolute w-2.5 h-2.5 bg-white/25 rounded-full animate-float-3" style="left:45%;top:35%;"></div><div class="absolute w-1 h-1 bg-emerald-200/50 rounded-full animate-float-4" style="left:55%;top:70%;"></div><div class="absolute w-2 h-2 bg-white/35 rounded-full animate-float-5" style="left:70%;top:25%;"></div><div class="absolute w-1.5 h-1.5 bg-cyan-200/30 rounded-full animate-float-6" style="left:80%;top:55%;"></div><div class="absolute w-2 h-2 bg-white/30 rounded-full animate-float-7" style="left:35%;top:45%;"></div><div class="absolute w-1 h-1 bg-emerald-200/40 rounded-full animate-float-8" style="left:65%;top:80%;"></div></div></div>',1)),u("div",Re,[u("div",Fe,[u("div",We,[t[39]||(t[39]=u("span",{class:"text-blue-100 font-medium text-sm md:text-base mb-1"},"Welcome back,",-1)),u("h1",Ye,p(e.$page.props.auth.user.name),1),u("div",Ze,[t[38]||(t[38]=u("div",{class:"w-2 h-2 rounded-full bg-emerald-400 shadow-[0_0_8px_rgba(52,211,153,0.8)]"},null,-1)),u("span",Xe,p(e.$page.props.auth.user.roles&&e.$page.props.auth.user.roles.length>0?e.$page.props.auth.user.roles[0]:"Team Member"),1)])]),u("div",Ge,[u("div",Je,[i(A,{align:"center-mobile",width:"responsive",contentClasses:"py-1 bg-white ring-1 ring-black ring-opacity-5"},{trigger:h(()=>[u("button",Ke,[t[40]||(t[40]=u("svg",{class:"w-6 h-6 group-hover:animate-swing drop-shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),e.$page.props.unreadCount>0?(y(),o("span",Qe)):f("",!0)])]),content:h(()=>[u("div",qe,[t[41]||(t[41]=u("h3",{class:"font-bold text-gray-700 text-sm"},"Notifications",-1)),e.$page.props.unreadCount>0?(y(),o("button",{key:0,onClick:Ga,class:"text-xs text-blue-600 hover:text-blue-800 font-medium hover:underline"},"Mark all read")):f("",!0)]),e.$page.props.notifications&&0!==e.$page.props.notifications.length?(y(),o("div",tt,[(y(!0),o(c,null,v(e.$page.props.notifications,e=>(y(),o("div",{key:e.id,class:k(["px-4 py-3 border-b border-gray-50 hover:bg-gray-50 transition-colors flex gap-3 cursor-pointer relative group",{"bg-blue-50/40":!e.read_at}]),onClick:t=>(e=>{const t=()=>{e.data&&e.data.link&&a.visit(e.data.link)};e.read_at?t():a.post(route("notifications.read",e.id),{},{preserveScroll:!0,onSuccess:()=>t()})})(e)},[u("div",lt,[u("div",{class:k(["w-8 h-8 rounded-full flex items-center justify-center shadow-sm",{"bg-emerald-100 text-emerald-600":"emerald"===e.data.color,"bg-red-100 text-red-600":"red"===e.data.color,"bg-amber-100 text-amber-600":"amber"===e.data.color,"bg-blue-100 text-blue-600":!e.data.color}])},["check"===e.data.icon?(y(),o("svg",rt,[...t[43]||(t[43]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):"x"===e.data.icon?(y(),o("svg",st,[...t[44]||(t[44]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):"clock"===e.data.icon?(y(),o("svg",ot,[...t[45]||(t[45]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):(y(),o("svg",it,[...t[46]||(t[46]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],2)]),u("div",nt,[u("p",dt,p(e.data.title),1),u("p",ct,p(e.data.message),1),u("p",ut,[t[47]||(t[47]=u("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),w(" "+p(e.created_at)+" ago ",1)])]),e.read_at?f("",!0):(y(),o("div",bt))],10,at))),128))])):(y(),o("div",et,[...t[42]||(t[42]=[u("svg",{class:"w-10 h-10 mx-auto mb-2 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),w(" No new notifications ",-1)])]))]),_:1})]),u("div",mt,[i(A,{align:"right",width:"48"},{trigger:h(()=>[u("button",gt,[u("div",vt,[u("img",{src:e.$page.props.auth.user.avatar_url,class:"w-14 h-14 md:w-16 md:h-16 rounded-full object-cover shadow-sm bg-white"},null,8,pt)]),t[48]||(t[48]=u("div",{class:"absolute bottom-1 right-1 bg-emerald-400 w-3.5 h-3.5 md:w-4 md:h-4 rounded-full border-2 border-slate-800"},null,-1))])]),content:h(()=>[u("div",ft,[u("p",xt,p(e.$page.props.auth.user.name),1),u("p",ht,p(e.$page.props.auth.user.email),1)]),i(_,{href:e.route("profile.edit"),class:"flex items-center gap-2"},{default:h(()=>[...t[49]||(t[49]=[u("svg",{class:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),w(" Profile ",-1)])]),_:1},8,["href"]),i(_,{href:e.route("logout"),method:"post",as:"button",class:"flex items-center gap-2"},{default:h(()=>[...t[50]||(t[50]=[u("svg",{class:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),w(" Log Out ",-1)])]),_:1},8,["href"])]),_:1})])])])])]),u("div",yt,[u("div",wt,[t[68]||(t[68]=u("div",{class:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-purple-50 rounded-full blur-3xl opacity-50 pointer-events-none"},null,-1)),t[69]||(t[69]=u("div",{class:"mb-8 relative z-10"},[u("h1",{class:"text-3xl font-black text-gray-900 tracking-tight"},"My Workspace"),u("p",{class:"text-gray-500 font-medium mt-2"},"Manage your plans, reports and monitoring efficiently")],-1)),u("div",kt,[i(n(C),{href:e.route("planning.index"),class:"group relative overflow-hidden bg-gray-50 rounded-3xl p-8 border border-gray-100 hover:bg-white hover:shadow-xl hover:-translate-y-1 transition-all duration-300"},{default:h(()=>[...t[52]||(t[52]=[u("div",{class:"absolute top-0 right-0 w-32 h-32 bg-emerald-100/50 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"},null,-1),u("div",{class:"relative z-10"},[u("div",{class:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl flex items-center justify-center text-white mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-lg"},[u("svg",{class:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),u("h3",{class:"text-xl font-bold text-gray-900 mb-2 group-hover:text-emerald-600 transition-colors"},"Planning"),u("p",{class:"text-sm text-gray-500"},"Create & Monitoring Plans")],-1)])]),_:1},8,["href"]),i(n(C),{href:e.route("planning-report.index"),class:"group relative overflow-hidden bg-gray-50 rounded-3xl p-8 border border-gray-100 hover:bg-white hover:shadow-xl hover:-translate-y-1 transition-all duration-300"},{default:h(()=>[...t[53]||(t[53]=[u("div",{class:"absolute top-0 right-0 w-32 h-32 bg-[#226ed9]/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"},null,-1),u("div",{class:"relative z-10"},[u("div",{class:"w-14 h-14 bg-gradient-to-br from-[#226ed9] to-[#1b5bb5] rounded-2xl flex items-center justify-center text-white mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-lg"},[u("svg",{class:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),u("h3",{class:"text-xl font-bold text-gray-900 mb-2 group-hover:text-[#226ed9] transition-colors"},"Reports"),u("p",{class:"text-sm text-gray-500"},"Performance Insights")],-1)])]),_:1},8,["href"])]),u("div",null,[t[67]||(t[67]=u("div",{class:"flex items-center gap-3 mb-8 relative z-10"},[u("h2",{class:"text-xl font-bold text-gray-900"},"Overview Status")],-1)),u("div",Ct,[u("div",jt,[t[56]||(t[56]=u("div",{class:"absolute top-0 right-0 w-20 h-20 bg-gray-200/30 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"},null,-1)),u("div",Mt,[t[55]||(t[55]=u("p",{class:"text-sm font-semibold text-gray-600 mb-2"},"No Planning",-1)),u("div",At,[u("p",_t,p(M.noPlanningCount),1),t[54]||(t[54]=u("span",{class:"text-xs text-gray-400 font-medium"},"items",-1))])])]),u("div",zt,[t[59]||(t[59]=u("div",{class:"absolute top-0 right-0 w-20 h-20 bg-blue-300/30 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"},null,-1)),u("div",Pt,[t[58]||(t[58]=u("p",{class:"text-sm font-semibold text-blue-700 mb-2"},"On Progress",-1)),u("div",$t,[u("p",Nt,p(M.onProgressCount),1),t[57]||(t[57]=u("span",{class:"text-xs text-blue-500 font-medium"},"items",-1))])])]),u("div",Tt,[t[63]||(t[63]=u("div",{class:"absolute top-0 right-0 w-20 h-20 bg-amber-300/30 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"},null,-1)),u("div",Bt,[u("div",Dt,[t[61]||(t[61]=u("p",{class:"text-sm font-semibold text-amber-700"},"Late / Rejected",-1)),M.lateRejectedCount>0?(y(),o("span",Ht,[...t[60]||(t[60]=[u("span",{class:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-amber-400 opacity-75"},null,-1),u("span",{class:"relative inline-flex rounded-full h-2 w-2 bg-amber-500"},null,-1)])])):f("",!0)]),u("div",Vt,[u("p",Ot,p(M.lateRejectedCount),1),t[62]||(t[62]=u("span",{class:"text-xs text-amber-500 font-medium"},"items",-1))])])]),u("div",Lt,[t[66]||(t[66]=u("div",{class:"absolute top-0 right-0 w-20 h-20 bg-black/10 rounded-full -mr-10 -mt-10 group-hover:scale-150 transition-transform duration-500"},null,-1)),u("div",St,[t[65]||(t[65]=u("p",{class:"text-sm font-semibold text-gray-900 mb-2"},"Closing",-1)),u("div",Ut,[u("p",Et,p(M.closingCount),1),t[64]||(t[64]=u("span",{class:"text-xs text-gray-600 font-medium"},"items",-1))])])])])])]),u("div",It,[t[95]||(t[95]=u("div",{class:"absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-gray-50 rounded-full blur-3xl opacity-50 pointer-events-none"},null,-1)),t[96]||(t[96]=u("div",{class:"mb-8 relative z-10"},[u("h1",{class:"text-3xl font-black text-gray-900 tracking-tight"},"Analytics Dashboard"),u("p",{class:"text-gray-500 font-medium mt-2"},"Comprehensive data insights and performance metrics")],-1)),u("div",Rt,[t[76]||(t[76]=u("div",{class:"flex items-center gap-3 mb-6"},[u("div",{class:"w-1.5 h-6 bg-emerald-500 rounded-full"}),u("h3",{class:"text-lg font-bold text-gray-900"},"Filters")],-1)),u("div",{class:k(["grid grid-cols-1 gap-6",M.teams.length>0?"md:grid-cols-4":M.users.length>0?"md:grid-cols-3":"md:grid-cols-2"])},[u("div",null,[t[70]||(t[70]=u("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Start Date",-1)),b(u("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=e=>Xa.value.start_date=e),class:"w-full rounded-2xl border-gray-200 bg-white focus:ring-emerald-500 focus:border-emerald-500 text-sm py-3 px-4 transition-all outline-none"},null,512),[[m,Xa.value.start_date]])]),u("div",null,[t[71]||(t[71]=u("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"End Date",-1)),b(u("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=e=>Xa.value.end_date=e),class:"w-full rounded-2xl border-gray-200 bg-white focus:ring-emerald-500 focus:border-emerald-500 text-sm py-3 px-4 transition-all outline-none"},null,512),[[m,Xa.value.end_date]])]),M.teams.length>0?(y(),o("div",Ft,[t[73]||(t[73]=u("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Filter Team",-1)),b(u("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>Xa.value.team_id=e),class:"w-full rounded-2xl border-gray-200 bg-white focus:ring-emerald-500 focus:border-emerald-500 text-sm py-3 px-4 transition-all outline-none"},[t[72]||(t[72]=u("option",{value:null},"All Teams",-1)),(y(!0),o(c,null,v(M.teams,e=>(y(),o("option",{key:e.id,value:e.id},p(e.name),9,Wt))),128))],512),[[g,Xa.value.team_id]])])):f("",!0),M.users.length>0?(y(),o("div",Yt,[t[75]||(t[75]=u("label",{class:"block text-sm font-bold text-gray-700 mb-2"},"Filter User",-1)),b(u("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>Xa.value.user_id=e),class:"w-full rounded-2xl border-gray-200 bg-white focus:ring-emerald-500 focus:border-emerald-500 text-sm py-3 px-4 transition-all outline-none"},[t[74]||(t[74]=u("option",{value:null},"All Team Members",-1)),(y(!0),o(c,null,v(M.users,e=>(y(),o("option",{key:e.id,value:e.id},p(e.name),9,Zt))),128))],512),[[g,Xa.value.user_id]])])):f("",!0)],2)]),u("div",Xt,[u("div",Gt,[u("div",null,[t[77]||(t[77]=u("p",{class:"text-gray-500 text-sm font-bold mb-1"},"Total Activities",-1)),u("p",Jt,p(M.totalActivitiesCount),1)]),t[78]||(t[78]=u("div",{class:"w-14 h-14 bg-white text-blue-600 rounded-2xl flex items-center justify-center shadow-sm"},[u("svg",{class:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 002 2h2a2 2 0 002-2z"})])],-1))]),u("div",Kt,[u("div",null,[t[79]||(t[79]=u("p",{class:"text-gray-500 text-sm font-bold mb-1"},"Active Customers",-1)),u("p",Qt,p(M.activeCustomerCount),1)]),t[80]||(t[80]=u("div",{class:"w-14 h-14 bg-white text-emerald-600 rounded-2xl flex items-center justify-center shadow-sm"},[u("svg",{class:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1))]),u("div",qt,[u("div",null,[t[81]||(t[81]=u("p",{class:"text-gray-500 text-sm font-bold mb-1"},"Total Customers",-1)),u("p",ea,p(M.totalCustomerCount),1)]),t[82]||(t[82]=u("div",{class:"w-14 h-14 bg-white text-yellow-600 rounded-2xl flex items-center justify-center shadow-sm"},[u("svg",{class:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))])]),u("div",ta,[u("div",aa,[t[83]||(t[83]=u("h3",{class:"text-xl font-bold text-gray-900 mb-6"},"Activity Marketing",-1)),u("div",la,[u("canvas",{ref_key:"activityMarketingChart",ref:pl},null,512)])]),u("div",ra,[t[84]||(t[84]=u("h3",{class:"text-xl font-bold text-gray-900 mb-6"},"Planning Health",-1)),u("div",sa,[u("canvas",{ref_key:"customerHealthChart",ref:fl},null,512)])])]),u("div",oa,[t[88]||(t[88]=u("h3",{class:"text-xl font-bold text-gray-900 mb-6"},"Customer Health (Inactive Duration)",-1)),u("div",ia,[u("div",na,[u("div",da,[u("div",ca,p(M.timeUnit)+" Inactive",1),(y(!0),o(c,null,v(Ka.value,(e,t)=>(y(),o("div",{key:"tick-"+t,class:"text-xs text-gray-400 font-medium h-4 flex items-center transform translate-y-2"},p(e),1))),128))]),u("div",ua,[u("div",ba,[(y(!0),o(c,null,v(Ka.value,(e,t)=>(y(),o("div",{key:"grid-"+t,class:"w-full border-t border-gray-100/60 h-0 transform translate-y-2"}))),128))]),u("div",ma,[0===el.value.length?(y(),o("div",ga,"No Data Available")):f("",!0),(y(!0),o(c,null,v(el.value,e=>(y(),o("div",{key:e.id,class:"group flex flex-col justify-end items-center flex-1 h-full relative"},[u("div",{class:k(["w-full max-w-[40px] rounded-lg transition-all duration-500 hover:opacity-90 relative",e.is_warning?"bg-red-500":"bg-emerald-400"]),style:j({height:Math.max(e.days_inactive/(Qa.value||1)*100,1)+"%",backgroundColor:e.is_warning?"#ef4444":"#34d399"})},[u("div",va,[u("div",pa,[u("span",fa,p(e.name)+p(e.product?" ("+e.product+")":""),1),u("div",xa,[u("span",{class:k(["w-2 h-2 rounded-full",e.is_warning?"bg-red-400":"bg-emerald-400"])},null,2),u("span",null,"Inactive: "+p(e.days_inactive)+" "+p(M.timeUnit),1)])]),t[85]||(t[85]=u("div",{class:"w-2 h-2 bg-gray-900 rotate-45 -mt-1.5"},null,-1))])],6),u("div",ha,p(e.name),1)]))),128))])])]),t[86]||(t[86]=u("div",{class:"h-32"},null,-1)),t[87]||(t[87]=u("div",{class:"text-center text-sm font-bold text-gray-700 mb-4 select-none"},"Customer Name (Product)",-1)),u("div",ya,[u("span",wa,"Page "+p(qa.value)+" of "+p(tl.value),1),u("div",ka,[u("button",{onClick:ll,disabled:1===qa.value,class:"px-3 py-1 text-sm bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-gray-700"},"« Prev",8,Ca),u("button",{onClick:al,disabled:qa.value===tl.value,class:"px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded hover:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"},"Next »",8,ja)])])])]),u("div",Ma,[t[93]||(t[93]=u("h3",{class:"text-xl font-bold text-gray-900 mb-6"},"Companies Activity Breakdown",-1)),u("div",Aa,[u("div",_a,[u("div",za,[t[89]||(t[89]=u("div",{class:"absolute -left-12 top-1/2 -translate-y-1/2 -rotate-90 text-xs font-bold text-gray-500 whitespace-nowrap tracking-wide"},"ALL ACTIVITY",-1)),(y(),o(c,null,v(6,e=>u("div",{key:"ytick-"+e,class:"text-xs text-gray-400 font-medium h-4 flex items-center transform translate-y-2"},p(Math.round(ul.value*(6-e)/5)),1)),64))]),u("div",Pa,[u("div",$a,[(y(),o(c,null,v(6,e=>u("div",{key:"ygrid-"+e,class:"w-full border-t border-gray-100/60 h-0 transform translate-y-2"})),64))]),u("div",Na,[0===sl.value.length?(y(),o("div",Ta,"No Activity Data")):f("",!0),(y(!0),o(c,null,v(sl.value,(e,a)=>(y(),o("div",{key:"act-"+e.id,class:"group flex flex-col justify-end items-center flex-1 h-full relative"},[u("div",{class:"w-full max-w-[50px] rounded-lg overflow-hidden relative flex flex-col-reverse items-stretch",style:j({height:Math.max(e.total/ul.value*100,1)+"%"})},[(y(!0),o(c,null,v(e.activities,(t,a,l)=>(y(),o("div",{key:a,class:"transition-opacity duration-300 relative",style:j({height:t/e.total*100+"%",backgroundColor:cl.value[a]||"#9ca3af"})},null,4))),128))],4),u("div",Ba,[u("div",Da,[u("div",Ha,p(e.name)+" "+p(Math.round(e.total/(sl.value.reduce((e,t)=>e+t.total,0)||1)*100))+"%",1),(y(!0),o(c,null,v(e.activities,(e,t)=>(y(),o("div",{key:"tt-"+t,class:"flex items-center gap-2 mb-1"},[u("span",{class:"w-3 h-3 rounded-full flex-shrink-0",style:j({backgroundColor:cl.value[t]})},null,4),u("span",Va,p(t)+": "+p(e),1)]))),128))]),t[90]||(t[90]=u("div",{class:"w-2 h-2 bg-gray-900 rotate-45 -mt-1.5 self-center"},null,-1))]),u("div",Oa,p(e.name),1)]))),128))])])]),t[91]||(t[91]=u("div",{class:"h-32"},null,-1)),t[92]||(t[92]=u("div",{class:"text-center text-sm font-bold text-gray-700 mb-6 select-none"},"Customer Name",-1)),u("div",La,[(y(!0),o(c,null,v(dl.value,e=>(y(),o("div",{key:e,class:"flex items-center gap-2"},[u("span",{class:"w-3 h-3 rounded-full",style:j({backgroundColor:cl.value[e]||"#9ca3af"})},null,4),u("span",Sa,p(e),1)]))),128))]),u("div",Ua,[u("span",Ea,"Page "+p(rl.value)+" of "+p(ol.value),1),u("div",Ia,[u("button",{onClick:nl,disabled:1===rl.value,class:"px-3 py-1 text-sm bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-gray-700"},"« Prev",8,Ra),u("button",{onClick:il,disabled:rl.value===ol.value,class:"px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded hover:bg-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"},"Next »",8,Fa)])])])]),u("div",Wa,[t[94]||(t[94]=u("h3",{class:"text-xl font-bold text-gray-900 mb-6"},"Activity Trend",-1)),u("div",Ya,[u("canvas",{ref_key:"activityTrendChart",ref:vl},null,512)])])]),t[97]||(t[97]=u("div",{class:"text-center"},[u("p",{class:"text-sm text-gray-400 font-medium"},"© 2025 Planly App • Created by Agus Prasetya")],-1))])],64))],64))}});export{Za as default};
