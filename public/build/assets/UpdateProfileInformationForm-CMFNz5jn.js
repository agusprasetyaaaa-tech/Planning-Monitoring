import{X as e,B as a,r as t,v as s,G as l,E as r,u as o,K as i,M as n,J as u,D as m,O as c,Z as d,y as p,R as f,I as v}from"./vendor--Two-J8v.js";import{_ as g}from"./InputError-Bcw0PHi_.js";import{_ as h,a as x}from"./TextInput-Di3KcOmj.js";import{P as y}from"./PrimaryButton-B5DgfCUj.js";import"./app-C4l8fcSA.js";const k={class:"flex flex-col md:flex-row gap-8"},b={class:"shrink-0 group relative"},w=["src"],j=["src"],_={class:"flex-1 space-y-6"},V={key:0},C={class:"mt-2 text-sm text-gray-800"},I={class:"mt-2 text-sm font-medium text-green-600"},S={class:"flex items-center gap-4 mt-6 border-t border-gray-100 pt-6"},A={key:0,class:"text-sm text-gray-600"},E={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:Boolean,status:String},setup(E){const P=e().props.auth.user,U=a({_method:"PATCH",name:P.name,email:P.email,avatar:null}),B=t(null),H=t(null),M=()=>{B.value.click()},R=()=>{const e=B.value.files[0];if(!e)return;const a=new FileReader;a.onload=e=>{H.value=e.target.result},a.readAsDataURL(e),U.avatar=e},q=()=>{U.post(route("profile.update"),{preserveScroll:!0,onSuccess:()=>{H.value=null,B.value&&(B.value.value=null)}})};return(e,a)=>(p(),s("section",null,[a[7]||(a[7]=l("header",null,[l("h2",{class:"text-lg font-medium text-gray-900"}," Profile Information "),l("p",{class:"mt-1 text-sm text-gray-600"}," Update your account's profile information, avatar, and email address. ")],-1)),l("form",{onSubmit:v(q,["prevent"]),class:"mt-6"},[l("div",k,[l("div",b,[l("input",{ref_key:"photoInput",ref:B,type:"file",class:"hidden",onChange:R,accept:"image/png, image/jpeg, image/jpg, image/heic, image/webp"},null,544),l("div",{class:"relative w-24 h-24 md:w-32 md:h-32 mx-auto md:mx-0 rounded-full overflow-hidden border-4 border-white shadow-lg bg-gray-100 cursor-pointer",onClick:M},[H.value?(p(),s("img",{key:0,src:H.value,class:"w-full h-full object-cover"},null,8,w)):(p(),s("img",{key:1,src:o(P).avatar_url,class:"w-full h-full object-cover"},null,8,j)),a[2]||(a[2]=l("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center"},[l("svg",{class:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})])],-1))]),r(g,{message:o(U).errors.avatar,class:"mt-2 text-center"},null,8,["message"]),a[3]||(a[3]=l("p",{class:"mt-2 text-xs text-center text-gray-500"},"Click to change",-1))]),l("div",_,[l("div",null,[r(h,{for:"name",value:"Name"}),r(x,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(U).name,"onUpdate:modelValue":a[0]||(a[0]=e=>o(U).name=e),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),r(g,{class:"mt-2",message:o(U).errors.name},null,8,["message"])]),l("div",null,[r(h,{for:"email",value:"Email"}),r(x,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o(U).email,"onUpdate:modelValue":a[1]||(a[1]=e=>o(U).email=e),required:"",autocomplete:"username"},null,8,["modelValue"]),r(g,{class:"mt-2",message:o(U).errors.email},null,8,["message"])]),E.mustVerifyEmail&&null===o(P).email_verified_at?(p(),s("div",V,[l("p",C,[a[5]||(a[5]=u(" Your email address is unverified. ",-1)),r(o(c),{href:e.route("verification.send"),method:"post",as:"button",class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:m(()=>[...a[4]||(a[4]=[u(" Click here to re-send the verification email. ",-1)])]),_:1},8,["href"])]),n(l("div",I," A new verification link has been sent to your email address. ",512),[[d,"verification-link-sent"===E.status]])])):i("",!0)])]),l("div",S,[r(y,{disabled:o(U).processing},{default:m(()=>[...a[6]||(a[6]=[u("Save Changes",-1)])]),_:1},8,["disabled"]),r(f,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:m(()=>[o(U).recentlySuccessful?(p(),s("p",A," Saved. ")):i("",!0)]),_:1})])],32)]))}};export{E as default};
