import{B as e,v as t,E as s,G as a,u as r,H as m,L as d,D as l,J as o,O as i,I as n,M as u,U as b,F as c,V as x,y as p}from"./vendor--Two-J8v.js";import{_ as g}from"./NexusLayout-hKbq2rpa.js";import"./app-i66EToh1.js";import"./DropdownLink-CFHk88F0.js";const f={class:"max-w-4xl mx-auto space-y-6"},y={class:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 font-sans"},v={class:"flex items-center justify-between mb-6"},h={class:"text-[18px] leading-[25px] font-semibold text-[rgb(15,23,42)]"},w={class:"text-sm text-gray-500 mt-1"},_={class:"mb-6 p-4 bg-gray-50 rounded-xl"},j=["value","disabled"],M=["disabled"],k={class:"text-sm font-semibold text-gray-700 mb-3"},A={key:0,class:"space-y-2"},U={class:"flex items-center gap-3"},C={class:"w-10 h-10 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center font-semibold text-sm"},L={class:"font-medium text-gray-900"},N={class:"text-xs text-gray-500"},O=["onClick","disabled"],S={key:1,class:"text-center py-8 text-gray-400 text-sm"},B=Object.assign({layout:g},{__name:"Members",props:{team:Object,availableUsers:Array},setup(g){const B=g,D=e({user_id:""}),V=()=>{D.post(route("teams.assign-member",B.team.id),{onSuccess:()=>D.reset()})};return(e,q)=>(p(),t(c,null,[s(r(m),{title:`Manage ${g.team.name} Members`},null,8,["title"]),a("div",f,[a("div",y,[a("div",v,[a("div",null,[a("h2",h,d(g.team.name),1),a("p",w,"Manager: "+d(g.team.manager?.name||"No manager assigned"),1)]),s(r(i),{href:e.route("teams.index"),class:"text-emerald-500 hover:text-emerald-600 font-medium text-sm"},{default:l(()=>[...q[1]||(q[1]=[o(" Back to Teams ",-1)])]),_:1},8,["href"])]),a("div",_,[q[3]||(q[3]=a("h3",{class:"text-sm font-semibold text-gray-700 mb-3"},"Add New Member",-1)),a("form",{onSubmit:n(V,["prevent"]),class:"flex gap-3"},[u(a("select",{"onUpdate:modelValue":q[0]||(q[0]=e=>r(D).user_id=e),required:"",class:"flex-1 px-4 py-2 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none transition-all text-sm"},[q[2]||(q[2]=a("option",{value:""},"Select a user",-1)),(p(!0),t(c,null,x(g.availableUsers.filter(e=>!e.team_id||e.team_id===g.team.id),e=>(p(),t("option",{key:e.id,value:e.id,disabled:e.team_id===g.team.id},d(e.name)+" "+d(e.team_id===g.team.id?"(Already in team)":""),9,j))),128))],512),[[b,r(D).user_id]]),a("button",{type:"submit",disabled:r(D).processing||!r(D).user_id,class:"px-6 py-2 bg-emerald-500 hover:bg-emerald-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-xl shadow-md font-medium transition-all transform hover:scale-105"}," Add Member ",8,M)],32)]),a("div",null,[a("h3",k,"Current Members ("+d(g.team.members?.length||0)+")",1),g.team.members&&g.team.members.length>0?(p(),t("div",A,[(p(!0),t(c,null,x(g.team.members,e=>(p(),t("div",{key:e.id,class:"flex items-center justify-between p-4 bg-white border border-gray-100 rounded-xl hover:shadow-sm transition-shadow"},[a("div",U,[a("div",C,d(e.name.charAt(0).toUpperCase()),1),a("div",null,[a("p",L,d(e.name),1),a("p",N,d(e.email),1)])]),a("button",{onClick:t=>{return s=e.id,void(confirm("Are you sure you want to remove this member from the team?")&&D.delete(route("teams.remove-member",[B.team.id,s])));var s},class:"px-4 py-2 text-sm text-red-500 hover:bg-red-50 rounded-lg transition-colors",disabled:r(D).processing}," Remove ",8,O)]))),128))])):(p(),t("div",S," No members in this team yet. Add members using the form above. "))])])])],64))}});export{B as default};
